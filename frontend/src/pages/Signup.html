<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Up | EcoLife</title>
    <link rel="stylesheet" href="../style.css" />
    <link rel="stylesheet" href="../css/components/Login_SignUp.css" />
    <style>
      /* Reset some default styles */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: Arial, sans-serif;
      }
    </style>
    <!-- Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    />
    <!-- font-awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>

  <body>
    <!-- Signup Section -->
    <section class="auth-section">
      <div class="auth-container signup-stepper">
        <!-- Left Side - Image/Info -->
        <div class="auth-info">
          <div class="auth-info-content">
            <img
              src="https://cdn-icons-png.flaticon.com/512/616/616408.png"
              alt="EcoLife Logo"
              class="auth-logo"
            />
            <h2>Join Our Community!</h2>
            <p>
              Create an account to start making a difference for our planet and
              animals.
            </p>

            <!-- Step Info Display -->
            <div class="step-info-display">
              <div class="step-info-item" data-step="1">
                <div class="step-info-icon">
                  <i class="fa-solid fa-user"></i>
                </div>
                <div class="step-info-text">
                  <h4>Personal Info</h4>
                  <p>Tell us about yourself</p>
                </div>
              </div>
              <div class="step-info-item" data-step="2">
                <div class="step-info-icon">
                  <i class="fa-solid fa-envelope"></i>
                </div>
                <div class="step-info-text">
                  <h4>Contact Details</h4>
                  <p>How can we reach you</p>
                </div>
              </div>
              <div class="step-info-item" data-step="3">
                <div class="step-info-icon">
                  <i class="fa-solid fa-lock"></i>
                </div>
                <div class="step-info-text">
                  <h4>Security</h4>
                  <p>Secure your account</p>
                </div>
              </div>
              <div class="step-info-item" data-step="4">
                <div class="step-info-icon">
                  <i class="fa-solid fa-heart"></i>
                </div>
                <div class="step-info-text">
                  <h4>Preferences</h4>
                  <p>Customize your experience</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Right Side - Signup Form with Steps -->
        <div class="auth-form-container">
          <div class="auth-form-wrapper stepper-wrapper">
            <h2 class="auth-title">Create Account</h2>

            <!-- Progress Bar -->
            <div class="stepper-progress">
              <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
              </div>
              <div class="step-indicators">
                <div class="step-indicator active" data-step="1">
                  <div class="step-circle">
                    <span class="step-number">1</span>
                    <i class="fa-solid fa-check step-check"></i>
                  </div>
                  <span class="step-label">Personal</span>
                </div>
                <div class="step-indicator" data-step="2">
                  <div class="step-circle">
                    <span class="step-number">2</span>
                    <i class="fa-solid fa-check step-check"></i>
                  </div>
                  <span class="step-label">Contact</span>
                </div>
                <div class="step-indicator" data-step="3">
                  <div class="step-circle">
                    <span class="step-number">3</span>
                    <i class="fa-solid fa-check step-check"></i>
                  </div>
                  <span class="step-label">Security</span>
                </div>
                <div class="step-indicator" data-step="4">
                  <div class="step-circle">
                    <span class="step-number">4</span>
                    <i class="fa-solid fa-check step-check"></i>
                  </div>
                  <span class="step-label">Finish</span>
                </div>
              </div>
            </div>

            <form class="auth-form" id="signupForm">
              <!-- Step 1: Personal Information -->
              <div class="form-step active" data-step="1">
                <div class="step-header">
                  <h3><i class="fa-solid fa-user"></i> Personal Information</h3>
                  <p>Let's start with your basic details</p>
                </div>

                <div class="form-row">
                  <div class="form-group half">
                    <label for="firstName">
                      First Name <span class="required">*</span>
                    </label>
                    <input
                      type="text"
                      id="firstName"
                      name="firstName"
                      placeholder="Enter first name"
                      required
                    />
                    <span class="error-message" id="firstName-error"></span>
                  </div>
                  <div class="form-group half">
                    <label for="lastName">
                      Last Name <span class="required">*</span>
                    </label>
                    <input
                      type="text"
                      id="lastName"
                      name="lastName"
                      placeholder="Enter last name"
                      required
                    />
                    <span class="error-message" id="lastName-error"></span>
                  </div>
                </div>

                <div class="form-group">
                  <label for="username">
                    Username <span class="required">*</span>
                  </label>
                  <div class="input-with-icon">
                    <span class="input-prefix">@</span>
                    <input
                      type="text"
                      id="username"
                      name="username"
                      placeholder="Choose a unique username"
                      required
                    />
                  </div>
                  <span class="error-message" id="username-error"></span>
                  <span class="input-hint"
                    >This will be your public display name</span
                  >
                </div>

                <div class="form-group">
                  <label for="dob"> Date of Birth </label>
                  <input type="date" id="dob" name="dob" />
                </div>
              </div>

              <!-- Step 2: Contact Information -->
              <div class="form-step" data-step="2">
                <div class="step-header">
                  <h3>
                    <i class="fa-solid fa-envelope"></i> Contact Information
                  </h3>
                  <p>How can we reach you?</p>
                </div>

                <div class="form-group">
                  <label for="email">
                    Email Address <span class="required">*</span>
                  </label>
                  <input
                    type="email"
                    id="email"
                    name="email"
                    placeholder="Enter your email address"
                    required
                  />
                  <span class="error-message" id="email-error"></span>
                  <span class="input-hint"
                    >We'll send a verification link to this email</span
                  >
                </div>

                <div class="form-group">
                  <label for="confirmEmail">
                    Confirm Email <span class="required">*</span>
                  </label>
                  <input
                    type="email"
                    id="confirmEmail"
                    name="confirmEmail"
                    placeholder="Confirm your email address"
                    required
                  />
                  <span class="error-message" id="confirmEmail-error"></span>
                </div>

                <div class="form-group">
                  <label for="phone"> Phone Number </label>
                  <div class="phone-input-wrapper">
                    <select id="countryCode" name="countryCode">
                      <option value="+91">ðŸ‡®ðŸ‡³ +91</option>
                      <option value="+1">ðŸ‡ºðŸ‡¸ +1</option>
                      <option value="+44">ðŸ‡¬ðŸ‡§ +44</option>
                      <option value="+61">ðŸ‡¦ðŸ‡º +61</option>
                      <option value="+81">ðŸ‡¯ðŸ‡µ +81</option>
                    </select>
                    <input
                      type="tel"
                      id="phone"
                      name="phone"
                      placeholder="Enter phone number"
                    />
                  </div>
                  <span class="input-hint"
                    >Optional - for account recovery</span
                  >
                </div>

                <div class="form-group">
                  <label for="location"> Location </label>
                  <select id="location" name="location">
                    <option value="">Select your state/region</option>
                    <option value="rajasthan">Rajasthan</option>
                    <option value="maharashtra">Maharashtra</option>
                    <option value="karnataka">Karnataka</option>
                    <option value="delhi">Delhi</option>
                    <option value="gujarat">Gujarat</option>
                    <option value="other">Other</option>
                  </select>
                </div>
              </div>

              <!-- Step 3: Security -->
              <div class="form-step" data-step="3">
                <div class="step-header">
                  <h3>
                    <i class="fa-solid fa-shield-halved"></i> Account Security
                  </h3>
                  <p>Create a strong password to protect your account</p>
                </div>

                <div class="form-group">
                  <label for="password">
                    Password <span class="required">*</span>
                  </label>
                  <div class="password-input-wrapper">
                    <input
                      type="password"
                      id="password"
                      name="password"
                      placeholder="Create a strong password"
                      required
                      minlength="8"
                    />
                    <button
                      type="button"
                      class="toggle-password"
                      onclick="togglePassword('password')"
                    >
                      <i class="fa-solid fa-eye" id="password-icon"></i>
                    </button>
                  </div>
                  <span class="error-message" id="password-error"></span>

                  <!-- Password Strength Meter -->
                  <div class="password-strength-wrapper">
                    <div class="password-strength-bar">
                      <div class="strength-segment" id="seg1"></div>
                      <div class="strength-segment" id="seg2"></div>
                      <div class="strength-segment" id="seg3"></div>
                      <div class="strength-segment" id="seg4"></div>
                    </div>
                    <span class="strength-text" id="strengthText"
                      >Enter a password</span
                    >
                  </div>

                  <!-- Password Requirements -->
                  <div class="password-requirements">
                    <div class="requirement" id="req-length">
                      <i class="fa-solid fa-circle"></i>
                      <span>At least 8 characters</span>
                    </div>
                    <div class="requirement" id="req-upper">
                      <i class="fa-solid fa-circle"></i>
                      <span>One uppercase letter</span>
                    </div>
                    <div class="requirement" id="req-lower">
                      <i class="fa-solid fa-circle"></i>
                      <span>One lowercase letter</span>
                    </div>
                    <div class="requirement" id="req-number">
                      <i class="fa-solid fa-circle"></i>
                      <span>One number</span>
                    </div>
                    <div class="requirement" id="req-special">
                      <i class="fa-solid fa-circle"></i>
                      <span>One special character</span>
                    </div>
                  </div>
                </div>

                <div class="form-group">
                  <label for="confirmPassword">
                    Confirm Password <span class="required">*</span>
                  </label>
                  <div class="password-input-wrapper">
                    <input
                      type="password"
                      id="confirmPassword"
                      name="confirmPassword"
                      placeholder="Confirm your password"
                      required
                    />
                    <button
                      type="button"
                      class="toggle-password"
                      onclick="togglePassword('confirmPassword')"
                    >
                      <i class="fa-solid fa-eye" id="confirmPassword-icon"></i>
                    </button>
                  </div>
                  <span class="error-message" id="confirmPassword-error"></span>
                  <div class="password-match" id="passwordMatch">
                    <i class="fa-solid fa-circle-check"></i>
                    <span>Passwords match!</span>
                  </div>
                </div>
              </div>

              <!-- Step 4: Preferences & Finish -->
              <div class="form-step" data-step="4">
                <div class="step-header">
                  <h3><i class="fa-solid fa-sliders"></i> Your Preferences</h3>
                  <p>Customize your EcoLife experience</p>
                </div>

                <div class="form-group">
                  <label>
                    What are you interested in? <span class="required">*</span>
                  </label>
                  <div class="interests-grid">
                    <label class="interest-item">
                      <input type="checkbox" name="interests" value="animals" />
                      <span>
                        <i class="fa-solid fa-paw"></i>
                        <strong>Animals</strong>
                        <small>Adoption, Wildlife</small>
                      </span>
                    </label>
                    <label class="interest-item">
                      <input type="checkbox" name="interests" value="plants" />
                      <span>
                        <i class="fa-solid fa-seedling"></i>
                        <strong>Plants</strong>
                        <small>Gardening, Trees</small>
                      </span>
                    </label>
                    <label class="interest-item">
                      <input type="checkbox" name="interests" value="climate" />
                      <span>
                        <i class="fa-solid fa-cloud-sun"></i>
                        <strong>Climate</strong>
                        <small>Awareness, Action</small>
                      </span>
                    </label>
                    <label class="interest-item">
                      <input
                        type="checkbox"
                        name="interests"
                        value="recycling"
                      />
                      <span>
                        <i class="fa-solid fa-recycle"></i>
                        <strong>Recycling</strong>
                        <small>Waste Management</small>
                      </span>
                    </label>
                    <label class="interest-item">
                      <input
                        type="checkbox"
                        name="interests"
                        value="volunteer"
                      />
                      <span>
                        <i class="fa-solid fa-hands-helping"></i>
                        <strong>Volunteer</strong>
                        <small>Community Service</small>
                      </span>
                    </label>
                    <label class="interest-item">
                      <input
                        type="checkbox"
                        name="interests"
                        value="education"
                      />
                      <span>
                        <i class="fa-solid fa-graduation-cap"></i>
                        <strong>Education</strong>
                        <small>Learn & Teach</small>
                      </span>
                    </label>
                  </div>
                  <span class="error-message" id="interests-error"></span>
                </div>

                <div class="form-group">
                  <label>How did you hear about us?</label>
                  <select id="referral" name="referral">
                    <option value="">Select an option</option>
                    <option value="social">Social Media</option>
                    <option value="friend">Friend/Family</option>
                    <option value="search">Search Engine</option>
                    <option value="news">News/Article</option>
                    <option value="other">Other</option>
                  </select>
                </div>

                <div class="form-group agreements">
                  <label class="checkbox-item">
                    <input type="checkbox" name="terms" id="terms" required />
                    <span class="custom-checkbox"></span>
                    <span class="checkbox-text">
                      I agree to the
                      <a href="#" target="_blank">Terms of Service</a> and
                      <a href="#" target="_blank">Privacy Policy</a>
                      <span class="required">*</span>
                    </span>
                  </label>
                  <span class="error-message" id="terms-error"></span>

                  <label class="checkbox-item">
                    <input type="checkbox" name="newsletter" id="newsletter" />
                    <span class="custom-checkbox"></span>
                    <span class="checkbox-text">
                      Subscribe to our newsletter for eco tips and updates
                    </span>
                  </label>

                  <label class="checkbox-item">
                    <input
                      type="checkbox"
                      name="notifications"
                      id="notifications"
                    />
                    <span class="custom-checkbox"></span>
                    <span class="checkbox-text">
                      Receive notifications about local environmental events
                    </span>
                  </label>
                </div>

                <!-- Summary Preview -->
                <div class="signup-summary">
                  <h4>
                    <i class="fa-solid fa-clipboard-check"></i> Account Summary
                  </h4>
                  <div class="summary-grid">
                    <div class="summary-item">
                      <span class="summary-label">Name:</span>
                      <span class="summary-value" id="summary-name">-</span>
                    </div>
                    <div class="summary-item">
                      <span class="summary-label">Username:</span>
                      <span class="summary-value" id="summary-username">-</span>
                    </div>
                    <div class="summary-item">
                      <span class="summary-label">Email:</span>
                      <span class="summary-value" id="summary-email">-</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Navigation Buttons -->
              <div class="step-navigation">
                <button
                  type="button"
                  class="nav-btn prev-btn"
                  id="prevBtn"
                  onclick="changeStep(-1)"
                >
                  <i class="fa-solid fa-arrow-left"></i> Previous
                </button>
                <button
                  type="button"
                  class="nav-btn next-btn"
                  id="nextBtn"
                  onclick="changeStep(1)"
                >
                  Next <i class="fa-solid fa-arrow-right"></i>
                </button>
                <button type="submit" class="nav-btn submit-btn" id="submitBtn">
                  <i class="fa-solid fa-user-plus"></i> Create Account
                </button>
              </div>
            </form>

            <div class="auth-divider">
              <span>OR</span>
            </div>

            <div class="social-login">
              <button type="button" class="social-btn google-btn">
                <i class="fa-brands fa-google"></i> Sign up with Google
              </button>
              <button type="button" class="social-btn github-btn">
                <i class="fa-brands fa-github"></i> Sign up with GitHub
              </button>
            </div>

            <p class="auth-switch">
              Already have an account? <a href="Login.html">Login</a>
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Success Modal -->
    <div class="success-modal" id="successModal">
      <div class="modal-content">
        <div class="success-animation">
          <div class="success-icon">
            <i class="fa-solid fa-check"></i>
          </div>
        </div>
        <h2>Welcome to EcoLife! ðŸŒ¿</h2>
        <p>Your account has been created successfully.</p>
        <p class="modal-subtext">
          A verification email has been sent to your email address.
        </p>
        <a href="Login.html" class="modal-btn">
          <i class="fa-solid fa-right-to-bracket"></i> Proceed to Login
        </a>
      </div>
    </div>

    <script
      src="https://kit.fontawesome.com/a076d05399.js"
      crossorigin="anonymous"
    ></script>
    <script>
      // Current Step
      let currentStep = 1;
      const totalSteps = 4;

      // Initialize
      document.addEventListener("DOMContentLoaded", function () {
        updateStepDisplay();
        updateNavigationButtons();
        updateProgressBar();
        updateSidebarSteps();
      });

      // Change Step
      function changeStep(direction) {
        // Validate current step before moving forward
        if (direction === 1 && !validateStep(currentStep)) {
          return;
        }

        // Update step
        currentStep += direction;

        // Clamp step value
        if (currentStep < 1) currentStep = 1;
        if (currentStep > totalSteps) currentStep = totalSteps;

        updateStepDisplay();
        updateNavigationButtons();
        updateProgressBar();
        updateSidebarSteps();
        updateSummary();

        // Scroll to top of form
        document.querySelector(".auth-form-wrapper").scrollTop = 0;
      }

      // Update Step Display
      function updateStepDisplay() {
        // Hide all steps
        document.querySelectorAll(".form-step").forEach((step) => {
          step.classList.remove("active");
        });

        // Show current step
        document
          .querySelector(`.form-step[data-step="${currentStep}"]`)
          .classList.add("active");

        // Update step indicators
        document.querySelectorAll(".step-indicator").forEach((indicator) => {
          const step = parseInt(indicator.dataset.step);
          indicator.classList.remove("active", "completed");

          if (step === currentStep) {
            indicator.classList.add("active");
          } else if (step < currentStep) {
            indicator.classList.add("completed");
          }
        });
      }

      // Update Navigation Buttons
      function updateNavigationButtons() {
        const prevBtn = document.getElementById("prevBtn");
        const nextBtn = document.getElementById("nextBtn");
        const submitBtn = document.getElementById("submitBtn");

        // Previous button
        prevBtn.style.display = currentStep === 1 ? "none" : "flex";

        // Next/Submit buttons
        if (currentStep === totalSteps) {
          nextBtn.style.display = "none";
          submitBtn.style.display = "flex";
        } else {
          nextBtn.style.display = "flex";
          submitBtn.style.display = "none";
        }
      }

      // Update Progress Bar
      function updateProgressBar() {
        const progress = ((currentStep - 1) / (totalSteps - 1)) * 100;
        document.getElementById("progressFill").style.width = `${progress}%`;
      }

      // Update Sidebar Steps
      function updateSidebarSteps() {
        document.querySelectorAll(".step-info-item").forEach((item) => {
          const step = parseInt(item.dataset.step);
          item.classList.remove("active", "completed");

          if (step === currentStep) {
            item.classList.add("active");
          } else if (step < currentStep) {
            item.classList.add("completed");
          }
        });
      }

      // Validate Step
      function validateStep(step) {
        let isValid = true;
        clearErrors();

        switch (step) {
          case 1:
            // Validate Personal Info
            const firstName = document.getElementById("firstName");
            const lastName = document.getElementById("lastName");
            const username = document.getElementById("username");

            if (!firstName.value.trim()) {
              showError("firstName", "First name is required");
              isValid = false;
            } else if (firstName.value.trim().length < 2) {
              showError(
                "firstName",
                "First name must be at least 2 characters"
              );
              isValid = false;
            }

            if (!lastName.value.trim()) {
              showError("lastName", "Last name is required");
              isValid = false;
            }

            if (!username.value.trim()) {
              showError("username", "Username is required");
              isValid = false;
            } else if (username.value.trim().length < 3) {
              showError("username", "Username must be at least 3 characters");
              isValid = false;
            } else if (!/^[a-zA-Z0-9_]+$/.test(username.value)) {
              showError(
                "username",
                "Username can only contain letters, numbers, and underscores"
              );
              isValid = false;
            }
            break;

          case 2:
            // Validate Contact Info
            const email = document.getElementById("email");
            const confirmEmail = document.getElementById("confirmEmail");

            if (!email.value.trim()) {
              showError("email", "Email is required");
              isValid = false;
            } else if (!isValidEmail(email.value)) {
              showError("email", "Please enter a valid email address");
              isValid = false;
            }

            if (!confirmEmail.value.trim()) {
              showError("confirmEmail", "Please confirm your email");
              isValid = false;
            } else if (email.value !== confirmEmail.value) {
              showError("confirmEmail", "Email addresses do not match");
              isValid = false;
            }
            break;

          case 3:
            // Validate Security
            const password = document.getElementById("password");
            const confirmPassword = document.getElementById("confirmPassword");

            if (!password.value) {
              showError("password", "Password is required");
              isValid = false;
            } else if (password.value.length < 8) {
              showError("password", "Password must be at least 8 characters");
              isValid = false;
            } else if (getPasswordStrength(password.value) < 3) {
              showError("password", "Please create a stronger password");
              isValid = false;
            }

            if (!confirmPassword.value) {
              showError("confirmPassword", "Please confirm your password");
              isValid = false;
            } else if (password.value !== confirmPassword.value) {
              showError("confirmPassword", "Passwords do not match");
              isValid = false;
            }
            break;

          case 4:
            // Validate Preferences
            const interests = document.querySelectorAll(
              'input[name="interests"]:checked'
            );
            const terms = document.getElementById("terms");

            if (interests.length === 0) {
              showError("interests", "Please select at least one interest");
              isValid = false;
            }

            if (!terms.checked) {
              showError("terms", "You must agree to the Terms of Service");
              isValid = false;
            }
            break;
        }

        return isValid;
      }

      // Show Error
      function showError(fieldId, message) {
        const errorElement = document.getElementById(`${fieldId}-error`);
        const inputElement = document.getElementById(fieldId);

        if (errorElement) {
          errorElement.textContent = message;
          errorElement.style.display = "block";
        }

        if (inputElement) {
          inputElement.classList.add("error");
        }
      }

      // Clear Errors
      function clearErrors() {
        document.querySelectorAll(".error-message").forEach((el) => {
          el.textContent = "";
          el.style.display = "none";
        });
        document.querySelectorAll(".error").forEach((el) => {
          el.classList.remove("error");
        });
      }

      // Email Validation
      function isValidEmail(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
      }

      // Toggle Password Visibility
      function togglePassword(inputId) {
        const input = document.getElementById(inputId);
        const icon = document.getElementById(inputId + "-icon");

        if (input.type === "password") {
          input.type = "text";
          icon.classList.remove("fa-eye");
          icon.classList.add("fa-eye-slash");
        } else {
          input.type = "password";
          icon.classList.remove("fa-eye-slash");
          icon.classList.add("fa-eye");
        }
      }

      // Password Strength
      document
        .getElementById("password")
        .addEventListener("input", function (e) {
          const password = e.target.value;
          updatePasswordStrength(password);
          checkPasswordMatch();
        });

      document
        .getElementById("confirmPassword")
        .addEventListener("input", checkPasswordMatch);

      function updatePasswordStrength(password) {
        const strength = getPasswordStrength(password);
        const segments = ["seg1", "seg2", "seg3", "seg4"];
        const colors = ["#ff4444", "#ffaa00", "#00cc44", "#00ff88"];
        const texts = ["Weak", "Fair", "Good", "Strong"];

        // Reset all segments
        segments.forEach((seg) => {
          document.getElementById(seg).className = "strength-segment";
        });

        // Update requirements
        updateRequirement("req-length", password.length >= 8);
        updateRequirement("req-upper", /[A-Z]/.test(password));
        updateRequirement("req-lower", /[a-z]/.test(password));
        updateRequirement("req-number", /\d/.test(password));
        updateRequirement("req-special", /[^a-zA-Z0-9]/.test(password));

        // Update strength bar
        if (password.length > 0) {
          for (let i = 0; i < strength; i++) {
            const seg = document.getElementById(segments[i]);
            seg.classList.add("active");
            seg.style.backgroundColor = colors[strength - 1];
          }
          document.getElementById("strengthText").textContent =
            texts[strength - 1] || "Too Short";
        } else {
          document.getElementById("strengthText").textContent =
            "Enter a password";
        }
      }

      function getPasswordStrength(password) {
        let strength = 0;
        if (password.length >= 8) strength++;
        if (/[a-z]/.test(password) && /[A-Z]/.test(password)) strength++;
        if (/\d/.test(password)) strength++;
        if (/[^a-zA-Z0-9]/.test(password)) strength++;
        return strength;
      }

      function updateRequirement(id, isMet) {
        const req = document.getElementById(id);
        if (isMet) {
          req.classList.add("met");
          req.querySelector("i").className = "fa-solid fa-circle-check";
        } else {
          req.classList.remove("met");
          req.querySelector("i").className = "fa-solid fa-circle";
        }
      }

      function checkPasswordMatch() {
        const password = document.getElementById("password").value;
        const confirmPassword =
          document.getElementById("confirmPassword").value;
        const matchIndicator = document.getElementById("passwordMatch");

        if (confirmPassword && password === confirmPassword) {
          matchIndicator.classList.add("show");
        } else {
          matchIndicator.classList.remove("show");
        }
      }

      // Update Summary
      function updateSummary() {
        if (currentStep === 4) {
          const firstName = document.getElementById("firstName").value;
          const lastName = document.getElementById("lastName").value;
          const username = document.getElementById("username").value;
          const email = document.getElementById("email").value;

          document.getElementById("summary-name").textContent =
            `${firstName} ${lastName}` || "-";
          document.getElementById("summary-username").textContent = username
            ? `@${username}`
            : "-";
          document.getElementById("summary-email").textContent = email || "-";
        }
      }

      // Form Submission
      document
        .getElementById("signupForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          if (!validateStep(4)) {
            return;
          }

          // Show success modal
          document.getElementById("successModal").classList.add("show");

          // You can add your actual signup logic here
          console.log("Form submitted successfully!");
        });

      // Close modal on outside click
      document
        .getElementById("successModal")
        .addEventListener("click", function (e) {
          if (e.target === this) {
            this.classList.remove("show");
          }
        });
    </script>
  </body>
</html>
